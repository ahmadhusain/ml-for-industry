<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Media | Machine Learning Application in Industry</title>
  <meta name="description" content="This is guide for Product Team Algoritma." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Media | Machine Learning Application in Industry" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is guide for Product Team Algoritma." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Media | Machine Learning Application in Industry" />
  
  <meta name="twitter:description" content="This is guide for Product Team Algoritma." />
  

<meta name="author" content="Algoritma Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="public-health.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
<link href="libs/plot_text_explanations-0.1.0/plot_text_explanations.css" rel="stylesheet" />
<script src="libs/plot_text_explanations-binding-0.5.1/plot_text_explanations.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets\book.css" type="text/css" />
<link rel="stylesheet" href="https:\\use.fontawesome.com\releases\v5.3.1\css\all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Algoritma Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="telecommunication.html"><a href="telecommunication.html"><i class="fa fa-check"></i><b>2</b> Telecommunication</a><ul>
<li class="chapter" data-level="2.1" data-path="telecommunication.html"><a href="telecommunication.html#customer-churn-prediction"><i class="fa fa-check"></i><b>2.1</b> Customer Churn Prediction</a><ul>
<li class="chapter" data-level="2.1.1" data-path="telecommunication.html"><a href="telecommunication.html#background"><i class="fa fa-check"></i><b>2.1.1</b> Background</a></li>
<li class="chapter" data-level="2.1.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>2.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="2.1.3" data-path="telecommunication.html"><a href="telecommunication.html#conclusion"><i class="fa fa-check"></i><b>2.1.3</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="finance.html"><a href="finance.html"><i class="fa fa-check"></i><b>3</b> Finance</a><ul>
<li class="chapter" data-level="3.1" data-path="finance.html"><a href="finance.html#credit-risk-analysis"><i class="fa fa-check"></i><b>3.1</b> Credit Risk Analysis</a><ul>
<li class="chapter" data-level="3.1.1" data-path="finance.html"><a href="finance.html#background-1"><i class="fa fa-check"></i><b>3.1.1</b> Background</a></li>
<li class="chapter" data-level="3.1.2" data-path="finance.html"><a href="finance.html#modelling-analysis-1"><i class="fa fa-check"></i><b>3.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="3.1.3" data-path="finance.html"><a href="finance.html#recommendation"><i class="fa fa-check"></i><b>3.1.3</b> Recommendation</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="finance.html"><a href="finance.html#evaluating-customer-financial-complaints"><i class="fa fa-check"></i><b>3.2</b> Evaluating Customer Financial Complaints</a><ul>
<li class="chapter" data-level="3.2.1" data-path="finance.html"><a href="finance.html#background-2"><i class="fa fa-check"></i><b>3.2.1</b> Background</a></li>
<li class="chapter" data-level="3.2.2" data-path="finance.html"><a href="finance.html#exploratory-data-analysis-1"><i class="fa fa-check"></i><b>3.2.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="3.2.3" data-path="finance.html"><a href="finance.html#comparing-sentiment-dictionaries"><i class="fa fa-check"></i><b>3.2.3</b> Comparing Sentiment Dictionaries</a></li>
<li class="chapter" data-level="3.2.4" data-path="finance.html"><a href="finance.html#correlation-pairs"><i class="fa fa-check"></i><b>3.2.4</b> Correlation Pairs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="retail.html"><a href="retail.html"><i class="fa fa-check"></i><b>4</b> Retail</a><ul>
<li class="chapter" data-level="4.1" data-path="retail.html"><a href="retail.html#e-commerce-clothing-reviews"><i class="fa fa-check"></i><b>4.1</b> E-Commerce Clothing Reviews</a><ul>
<li class="chapter" data-level="4.1.1" data-path="retail.html"><a href="retail.html#background-3"><i class="fa fa-check"></i><b>4.1.1</b> Background</a></li>
<li class="chapter" data-level="4.1.2" data-path="retail.html"><a href="retail.html#cleaning-data"><i class="fa fa-check"></i><b>4.1.2</b> Cleaning Data</a></li>
<li class="chapter" data-level="4.1.3" data-path="retail.html"><a href="retail.html#modelling-2"><i class="fa fa-check"></i><b>4.1.3</b> Modelling</a></li>
<li class="chapter" data-level="4.1.4" data-path="retail.html"><a href="retail.html#visualize-data-text"><i class="fa fa-check"></i><b>4.1.4</b> Visualize Data Text</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="insurance.html"><a href="insurance.html"><i class="fa fa-check"></i><b>5</b> Insurance</a><ul>
<li class="chapter" data-level="5.1" data-path="insurance.html"><a href="insurance.html#prediction-of-total-claim-amount"><i class="fa fa-check"></i><b>5.1</b> Prediction of Total Claim Amount</a><ul>
<li class="chapter" data-level="5.1.1" data-path="insurance.html"><a href="insurance.html#background-4"><i class="fa fa-check"></i><b>5.1.1</b> Background</a></li>
<li class="chapter" data-level="5.1.2" data-path="insurance.html"><a href="insurance.html#modelling-analysis-2"><i class="fa fa-check"></i><b>5.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="5.1.3" data-path="insurance.html"><a href="insurance.html#conclusion-1"><i class="fa fa-check"></i><b>5.1.3</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bioinformatics.html"><a href="bioinformatics.html"><i class="fa fa-check"></i><b>6</b> Bioinformatics</a><ul>
<li class="chapter" data-level="6.1" data-path="bioinformatics.html"><a href="bioinformatics.html#qtl-mapping-for-disease-resistance"><i class="fa fa-check"></i><b>6.1</b> QTL Mapping for Disease Resistance</a><ul>
<li class="chapter" data-level="6.1.1" data-path="bioinformatics.html"><a href="bioinformatics.html#backgorund"><i class="fa fa-check"></i><b>6.1.1</b> Backgorund</a></li>
<li class="chapter" data-level="6.1.2" data-path="bioinformatics.html"><a href="bioinformatics.html#modelling-analysis-3"><i class="fa fa-check"></i><b>6.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="6.1.3" data-path="bioinformatics.html"><a href="bioinformatics.html#conclusion-2"><i class="fa fa-check"></i><b>6.1.3</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="public-health.html"><a href="public-health.html"><i class="fa fa-check"></i><b>7</b> Public Health</a><ul>
<li class="chapter" data-level="7.1" data-path="public-health.html"><a href="public-health.html#survival-analysis-of-patients-with-lung-cancer"><i class="fa fa-check"></i><b>7.1</b> Survival Analysis of Patients with Lung Cancer</a><ul>
<li class="chapter" data-level="7.1.1" data-path="public-health.html"><a href="public-health.html#import-data-3"><i class="fa fa-check"></i><b>7.1.1</b> Import Data</a></li>
<li class="chapter" data-level="7.1.2" data-path="public-health.html"><a href="public-health.html#exploratory-data-analysis-3"><i class="fa fa-check"></i><b>7.1.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="7.1.3" data-path="public-health.html"><a href="public-health.html#modelling-analysis-4"><i class="fa fa-check"></i><b>7.1.3</b> Modelling Analysis</a></li>
<li class="chapter" data-level="7.1.4" data-path="public-health.html"><a href="public-health.html#conclusion-3"><i class="fa fa-check"></i><b>7.1.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="media.html"><a href="media.html"><i class="fa fa-check"></i><b>8</b> Media</a><ul>
<li class="chapter" data-level="8.1" data-path="media.html"><a href="media.html#causal-impact-on-leads-generation"><i class="fa fa-check"></i><b>8.1</b> Causal Impact on Leads generation</a><ul>
<li class="chapter" data-level="8.1.1" data-path="media.html"><a href="media.html#background-5"><i class="fa fa-check"></i><b>8.1.1</b> Background</a></li>
<li class="chapter" data-level="8.1.2" data-path="media.html"><a href="media.html#modelling-analysis-5"><i class="fa fa-check"></i><b>8.1.2</b> Modelling Analysis</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://algorit.ma/" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Machine Learning Application in Industry</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="media" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Media</h1>
<div id="causal-impact-on-leads-generation" class="section level2">
<h2><span class="header-section-number">8.1</span> Causal Impact on Leads generation</h2>
<div id="background-5" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Background</h3>
<p>Dalam proses bisnis, tim marketing mempunyai peran untuk meningkatkan <em>brand awereness</em> sebuah produk yang dijual. Ketika upaya menarik perhatian pelanggan untuk mencari tahu produk atau layanan yang disediakan sukses akan menghasilkan sebuah <em>leads</em>. Simpelnya, leads adalah orang-orang yang tertarik pada produk atau layanan bisnis. Di era digital, <em>leads</em> dapat diartikan sebagai orang yang mengunjungi website secara langsung maupun melalui iklan, orang yang melakukan like, share terhadap konten atau kampanye yang sedang dilakukan. Selanjutnya, prospek ketertarikan ini nantinya akan disimpan untuk kemudian diarahkan kepada tim sales. Banyak sekali upaya yang dapat dilakukan untuk menghasilkan sebuah <em>leads</em>. Mulai dari membuat konten kreatif, iklan, menulis artikel, membagikan <em>ebook</em>, kode prome dan lain sebagainya.</p>
<p>Perlu dilakukan analisa seberapa efektif kampanye yang dilakukan untuk menghasilkan peningkatan leads. <em>Causal Impact</em> adalah sebuah analisis yang dapat digunakan untuk mencari kesimpulan secara statistik apakah ada perbedaan yang signifikan untuk <em>lead generation</em> dari periode sebelum kampanye dilakukan. Kesimpulan yang dapat diperoleh, apakah leads tersebut adalah hasil dari kampanye yang dilakukan, atau berasal dari faktor lain yang tidak teramati.</p>
</div>
<div id="modelling-analysis-5" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Modelling Analysis</h3>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" title="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb162-2" title="2"><span class="kw">library</span>(CausalImpact)</a>
<a class="sourceLine" id="cb162-3" title="3"><span class="kw">library</span>(readxl)</a>
<a class="sourceLine" id="cb162-4" title="4"><span class="kw">library</span>(forecast)</a>
<a class="sourceLine" id="cb162-5" title="5"><span class="kw">library</span>(TSstudio)</a></code></pre></div>
<p>Data berasal dari hasil googleanalytics sebuah website. Untuk pemodelan <em>post-period</em>, akan digunakan 37 hari sebelumnya sebagai data training. Pertanyaan bisnisnya yaitu pada hari ke-38 dan seterusnya, setelah kampanye dilakukan, apakah memperoleh peningkatan leads yang signifikan?</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" title="1">data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;assets/09-media/analytics.csv&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" title="1"><span class="kw">glimpse</span>(data)</a></code></pre></div>
<pre><code>#&gt; Observations: 54
#&gt; Variables: 9
#&gt; $ page              &lt;chr&gt; &quot;9fb22be32c347a5acd1d3724b0dae726&quot;, &quot;9...
#&gt; $ datetime          &lt;dbl&gt; 20180516, 20180517, 20180518, 20180519...
#&gt; $ page_display      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
#&gt; $ unique_views      &lt;dbl&gt; 1456, 1392, 1281, 658, 616, 1691, 1488...
#&gt; $ average_page_time &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
#&gt; $ tickets           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
#&gt; $ bounce_rate       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
#&gt; $ exit_percentage   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
#&gt; $ page_value        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...</code></pre>
<p>Kita pilih beberapa kolom yang menjadi fokus analisis ini, yaitu datetime (harian) dan <code>unique views</code> yang berisi informasi berapa banyak orang yang mengunjungi halaman website tersebut.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" title="1">actual &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb166-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb166-3" title="3">    <span class="dt">datetime =</span> lubridate<span class="op">::</span><span class="kw">as_datetime</span>(<span class="kw">as.character</span>(datetime))</a>
<a class="sourceLine" id="cb166-4" title="4">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb166-5" title="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(datetime, unique_views) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb166-6" title="6"><span class="st">  </span><span class="kw">na.omit</span>()</a>
<a class="sourceLine" id="cb166-7" title="7"></a>
<a class="sourceLine" id="cb166-8" title="8"><span class="kw">head</span>(actual)</a></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 2
#&gt;   datetime            unique_views
#&gt;   &lt;dttm&gt;                     &lt;dbl&gt;
#&gt; 1 2018-05-16 00:00:00         1456
#&gt; 2 2018-05-17 00:00:00         1392
#&gt; 3 2018-05-18 00:00:00         1281
#&gt; 4 2018-05-19 00:00:00          658
#&gt; 5 2018-05-20 00:00:00          616
#&gt; 6 2018-05-21 00:00:00         1691</code></pre>
<p>Leads generation yang dihasilkan paling tinggi ketika hari Rabu. Informasi tersebut dapat dijadikan pertimbangan penentuan hari untuk memulai kampanye.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" title="1">actual <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb168-3" title="3">    <span class="dt">wdays =</span> lubridate<span class="op">::</span><span class="kw">wday</span>(datetime, <span class="dt">label =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb168-4" title="4">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-5" title="5"><span class="st">  </span><span class="kw">group_by</span>(wdays) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-6" title="6"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">total_views =</span> <span class="kw">sum</span>(unique_views)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-7" title="7"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-8" title="8"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb168-9" title="9">    <span class="dt">label =</span> scales<span class="op">::</span><span class="kw">comma</span>(total_views)</a>
<a class="sourceLine" id="cb168-10" title="10">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-11" title="11"><span class="st">  </span><span class="kw">ggplot</span>(</a>
<a class="sourceLine" id="cb168-12" title="12">    <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> wdays, <span class="dt">y =</span> total_views)</a>
<a class="sourceLine" id="cb168-13" title="13">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb168-14" title="14"><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb168-15" title="15"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb168-16" title="16">    <span class="dt">title =</span> <span class="st">&quot;Total Views Per Days&quot;</span>,</a>
<a class="sourceLine" id="cb168-17" title="17">    <span class="dt">subtitle =</span> <span class="st">&quot;Period: May to July&quot;</span>,</a>
<a class="sourceLine" id="cb168-18" title="18">    <span class="dt">y =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb168-19" title="19">    <span class="dt">x =</span> <span class="st">&quot;Day of Week&quot;</span></a>
<a class="sourceLine" id="cb168-20" title="20">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb168-21" title="21"><span class="st">  </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb168-22" title="22"><span class="st">  </span><span class="kw">geom_text</span>(</a>
<a class="sourceLine" id="cb168-23" title="23">    <span class="kw">aes</span>(<span class="dt">label =</span> label, <span class="dt">y =</span> total_views <span class="op">+</span><span class="st"> </span><span class="kw">max</span>(total_views) <span class="op">*</span><span class="st"> </span><span class="fl">0.075</span>) , <span class="dt">size =</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb168-24" title="24">  )</a></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-125-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Seperti yang dijelaskan sebelumnya, akan di-subset 37 hari sebelum kampanye diberikan dan disimpan ke objek <code>pre_campaign</code>. Dari sinilah, kita dapat melihat pergerakan leads dan memperikirakan peningkatan yang dihasilkan sejak kampanye dilakukan.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" title="1">pre_campaign &lt;-<span class="st"> </span>actual <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb169-2" title="2"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">37</span>)</a></code></pre></div>
<p>Selanjutnya, membuat objek <em>time series</em> dan melakukan pemodelan untuk menjadikan <em>banchmark</em> dari leads yang dapat kita peroleh jika tidak menggunakan kampanye. Kita akan gunakan Holtwinter sebagai metode untuk melakuan peramalan (forecast) 16 hari kedepan.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" title="1">ts_campaign &lt;-<span class="st"> </span><span class="kw">ts</span>(pre_campaign<span class="op">$</span>unique_views, <span class="dt">frequency =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb170-2" title="2">fit_hw &lt;-<span class="st"> </span><span class="kw">HoltWinters</span>(ts_campaign)</a>
<a class="sourceLine" id="cb170-3" title="3">forecast &lt;-<span class="st"> </span><span class="kw">forecast</span>(fit_hw, <span class="dv">16</span>)</a></code></pre></div>
<p>Kita gabungkan data periode sebelum dilakukan kampanye dan hasil ramalannya yang disimpan ke objek <code>append_data</code>.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" title="1">forecast_data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb171-2" title="2">  <span class="dt">datetime =</span> lubridate<span class="op">::</span><span class="kw">as_datetime</span>(<span class="kw">seq.Date</span>(<span class="dt">from =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2018-06-24&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;day&quot;</span>, <span class="dt">length.out =</span> <span class="dv">16</span>)),</a>
<a class="sourceLine" id="cb171-3" title="3">  <span class="dt">unique_views =</span> forecast<span class="op">$</span>mean</a>
<a class="sourceLine" id="cb171-4" title="4">)</a>
<a class="sourceLine" id="cb171-5" title="5"></a>
<a class="sourceLine" id="cb171-6" title="6"></a>
<a class="sourceLine" id="cb171-7" title="7">append_data &lt;-<span class="st"> </span>pre_campaign <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb171-8" title="8"><span class="st">  </span><span class="kw">bind_rows</span>(forecast_data)</a></code></pre></div>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> append_data, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> datetime, <span class="dt">y =</span> unique_views)) <span class="op">+</span></a>
<a class="sourceLine" id="cb172-2" title="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">color =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb172-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb172-4" title="4"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb172-5" title="5">    <span class="dt">title =</span> <span class="st">&quot;Forecast Projection&quot;</span>,</a>
<a class="sourceLine" id="cb172-6" title="6">    <span class="dt">y =</span> <span class="st">&quot;Total Unique Views&quot;</span></a>
<a class="sourceLine" id="cb172-7" title="7">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb172-8" title="8"><span class="st">  </span><span class="kw">theme_minimal</span>()</a></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-129-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Dan kita juga mempunyai data aktual untuk periode tersebut. Kita perhatikan terjadi peningkatan total pengunjung website.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" title="1">actual <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb173-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> datetime, <span class="dt">y =</span> unique_views)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb173-3" title="3"><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">color =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb173-4" title="4"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb173-5" title="5"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb173-6" title="6">    <span class="dt">title =</span> <span class="st">&quot;Data aktual jumlah pengunjung website&quot;</span>,</a>
<a class="sourceLine" id="cb173-7" title="7">    <span class="dt">subtitle =</span> <span class="st">&quot;Periode 16 Mei hingga 17 Juli&quot;</span>,</a>
<a class="sourceLine" id="cb173-8" title="8">    <span class="dt">y =</span> <span class="ot">NULL</span></a>
<a class="sourceLine" id="cb173-9" title="9">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb173-10" title="10"><span class="st">  </span><span class="kw">theme_minimal</span>()</a></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-130-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Untuk memperkirakan efek kausal, kita mulai dengan menentukan periode mana dalam data yang harus digunakan untuk melatih model (periode pra-intervensi) dan periode mana untuk menghitung prediksi kontrafaktual (periode pasca intervensi).</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" title="1">pre &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">37</span>)</a>
<a class="sourceLine" id="cb174-2" title="2">post &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">38</span>, <span class="dv">53</span>)</a></code></pre></div>
<p>Sintaks diatas berarti, poin observasi ke-1 sampai dengan 37 akan digunakan untuk training, dan poin observasi ke 38 hingga 53 untuk menghitung prediksi, atau kita juga bisa mendefinisikannya ke format interval tanggal (date). Kemudian ubah datanya menjadi format matriks sebagai syarat analisis dengan packages <code>CausalImpact</code>.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1">pre &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">c</span>(<span class="st">&quot;2018-05-16&quot;</span>, <span class="st">&quot;2018-06-24&quot;</span>))</a>
<a class="sourceLine" id="cb175-2" title="2">post &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">c</span>(<span class="st">&quot;2018-06-25&quot;</span>, <span class="st">&quot;2018-07-10&quot;</span>))</a></code></pre></div>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" title="1">time.points &lt;-<span class="st"> </span><span class="kw">seq.Date</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2018-05-16&quot;</span>), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">53</span>)</a>
<a class="sourceLine" id="cb176-2" title="2">data_ci &lt;-<span class="st"> </span><span class="kw">zoo</span>(</a>
<a class="sourceLine" id="cb176-3" title="3">  <span class="kw">cbind</span>(actual<span class="op">$</span>unique_views, append_data<span class="op">$</span>unique_views), </a>
<a class="sourceLine" id="cb176-4" title="4">  time.points</a>
<a class="sourceLine" id="cb176-5" title="5">)</a></code></pre></div>
<p>Sekarang kita sudah memiliki data yang siap untuk memverifikasi efek kausal dari kampanye.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1">impact &lt;-<span class="st"> </span><span class="kw">CausalImpact</span>(<span class="dt">data =</span> data_ci, <span class="dt">pre.period =</span> pre, <span class="dt">post.period =</span> post)</a>
<a class="sourceLine" id="cb177-2" title="2"><span class="kw">plot</span>(impact)</a></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-134-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Secara default, plot berisi dari tiga panel. Panel pertama <code>original</code> menunjukkan data dan prediksi kontrafaktual untuk periode pasca kampanye. Panel kedua <code>pointwise</code> menunjukkan perbedaan antara data aktual yang diamati (leads) dan prediksi. Panel ketiga <code>cumulative</code> menggambarkan efek kumulatif dari intervensi (kampanye) yang dilakukan.</p>
<p>Hasil ini memiliki asumsi bahwa hubungan antara leads generation dan deret waktu pengamatan, sebagaimana ditetapkan selama pre-period, tetap stabil sepanjang post-period.</p>
<p>Kita dapat lihat informasi statistiknya dengan mengunnakan perintah <code>summary(impact)</code>.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" title="1"><span class="kw">summary</span>(impact)</a></code></pre></div>
<pre><code>#&gt; Posterior inference {CausalImpact}
#&gt; 
#&gt;                          Average       Cumulative    
#&gt; Actual                   1417          18424         
#&gt; Prediction (s.d.)        984 (54)      12786 (697)   
#&gt; 95% CI                   [880, 1095]   [11437, 14232]
#&gt;                                                      
#&gt; Absolute effect (s.d.)   434 (54)      5638 (697)    
#&gt; 95% CI                   [322, 537]    [4192, 6987]  
#&gt;                                                      
#&gt; Relative effect (s.d.)   44% (5.5%)    44% (5.5%)    
#&gt; 95% CI                   [33%, 55%]    [33%, 55%]    
#&gt; 
#&gt; Posterior tail-area probability p:   0.00103
#&gt; Posterior prob. of a causal effect:  99.89669%
#&gt; 
#&gt; For more details, type: summary(impact, &quot;report&quot;)</code></pre>
<p>Kita dapat memperoleh informasi dari actual dan predicted effect (average) serta efek absolut dan relatifnya. Output informasi statistik di atas mengatakan, leads generation setelah dilakukan kampanye mengalami peningkatan sebesar 44%, dari perkiraan rata-rata pengunjung websitenya sebanyak 984 orang menjadi 1417 kenyataannya.</p>
<p>Untuk panduan interpretasi yang benar dari hasil tabel ringkasan, packages <code>CausalImpact</code> menyediakan teks interpretasinya, yang dapat kita print menggunakan perintah:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" title="1">interpretasi &lt;-<span class="st"> </span><span class="kw">summary</span>(impact, <span class="st">&quot;report&quot;</span>)</a>
<a class="sourceLine" id="cb180-2" title="2"></a>
<a class="sourceLine" id="cb180-3" title="3"><span class="kw">print</span>(interpretasi)</a></code></pre></div>
<p><strong>Hasilnya interpretasi teksnya akan seperti berikut:</strong></p>
<p>Analysis report {CausalImpact}</p>
<p>During the post-intervention period, the response variable had an average value of approx. 1.42K. By contrast, in the absence of an intervention, we would have expected an average response of 0.98K. The 95% interval of this counterfactual prediction is [0.87K, 1.09K]. Subtracting this prediction from the observed response yields an estimate of the causal effect the intervention had on the response variable. This effect is 0.43K with a 95% interval of [0.33K, 0.54K]. For a discussion of the significance of this effect, see below.</p>
<p>Summing up the individual data points during the post-intervention period (which can only sometimes be meaningfully interpreted), the response variable had an overall value of 18.42K. By contrast, had the intervention not taken place, we would have expected a sum of 12.79K. The 95% interval of this prediction is [11.35K, 14.19K].</p>
<p>The above results are given in terms of absolute numbers. In relative terms, the response variable showed an increase of +44%. The 95% interval of this percentage is [+33%, +55%].</p>
<p>This means that the positive effect observed during the intervention period is statistically significant and unlikely to be due to random fluctuations. It should be noted, however, that the question of whether this increase also bears substantive significance can only be answered by comparing the absolute effect (0.43K) to the original goal of the underlying intervention.</p>
<p>The probability of obtaining this effect by chance is very small (Bayesian one-sided tail-area probability p = 0.001). This means the causal effect can be considered statistically significant.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="public-health.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"all": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
