<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Telecommunication | Machine Learning Application in Industry</title>
  <meta name="description" content="This is guide for Product Team Algoritma." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Telecommunication | Machine Learning Application in Industry" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is guide for Product Team Algoritma." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Telecommunication | Machine Learning Application in Industry" />
  
  <meta name="twitter:description" content="This is guide for Product Team Algoritma." />
  

<meta name="author" content="Algoritma Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="finance.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
<link href="libs/plot_text_explanations-0.1.0/plot_text_explanations.css" rel="stylesheet" />
<script src="libs/plot_text_explanations-binding-0.5.2/plot_text_explanations.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets\book.css" type="text/css" />
<link rel="stylesheet" href="https:\\use.fontawesome.com\releases\v5.3.1\css\all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Algoritma Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="telecommunication.html"><a href="telecommunication.html"><i class="fa fa-check"></i><b>2</b> Telecommunication</a>
<ul>
<li class="chapter" data-level="2.1" data-path="telecommunication.html"><a href="telecommunication.html#customer-churn-prediction"><i class="fa fa-check"></i><b>2.1</b> Customer Churn Prediction</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="telecommunication.html"><a href="telecommunication.html#background"><i class="fa fa-check"></i><b>2.1.1</b> Background</a></li>
<li class="chapter" data-level="2.1.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>2.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="2.1.3" data-path="telecommunication.html"><a href="telecommunication.html#conclusion"><i class="fa fa-check"></i><b>2.1.3</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="finance.html"><a href="finance.html"><i class="fa fa-check"></i><b>3</b> Finance</a>
<ul>
<li class="chapter" data-level="3.1" data-path="finance.html"><a href="finance.html#credit-risk-analysis"><i class="fa fa-check"></i><b>3.1</b> Credit Risk Analysis</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="telecommunication.html"><a href="telecommunication.html#background"><i class="fa fa-check"></i><b>3.1.1</b> Background</a></li>
<li class="chapter" data-level="3.1.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>3.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="3.1.3" data-path="finance.html"><a href="finance.html#recommendation"><i class="fa fa-check"></i><b>3.1.3</b> Recommendation</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="finance.html"><a href="finance.html#evaluating-customer-financial-complaints"><i class="fa fa-check"></i><b>3.2</b> Evaluating Customer Financial Complaints</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="finance.html"><a href="finance.html#background-1"><i class="fa fa-check"></i><b>3.2.1</b> Background</a></li>
<li class="chapter" data-level="3.2.2" data-path="finance.html"><a href="finance.html#exploratory-data-analysis-1"><i class="fa fa-check"></i><b>3.2.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="3.2.3" data-path="finance.html"><a href="finance.html#comparing-sentiment-dictionaries"><i class="fa fa-check"></i><b>3.2.3</b> Comparing Sentiment Dictionaries</a></li>
<li class="chapter" data-level="3.2.4" data-path="finance.html"><a href="finance.html#correlation-pairs"><i class="fa fa-check"></i><b>3.2.4</b> Correlation Pairs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="retail.html"><a href="retail.html"><i class="fa fa-check"></i><b>4</b> Retail</a>
<ul>
<li class="chapter" data-level="4.1" data-path="retail.html"><a href="retail.html#e-commerce-clothing-reviews"><i class="fa fa-check"></i><b>4.1</b> E-Commerce Clothing Reviews</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="telecommunication.html"><a href="telecommunication.html#background"><i class="fa fa-check"></i><b>4.1.1</b> Background</a></li>
<li class="chapter" data-level="4.1.2" data-path="retail.html"><a href="retail.html#cleaning-data"><i class="fa fa-check"></i><b>4.1.2</b> Cleaning Data</a></li>
<li class="chapter" data-level="4.1.3" data-path="telecommunication.html"><a href="telecommunication.html#modelling"><i class="fa fa-check"></i><b>4.1.3</b> Modelling</a></li>
<li class="chapter" data-level="4.1.4" data-path="retail.html"><a href="retail.html#visualize-data-text"><i class="fa fa-check"></i><b>4.1.4</b> Visualize Data Text</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="retail.html"><a href="retail.html#customer-segmentation-with-rfm-analysis-in-python-programming-language"><i class="fa fa-check"></i><b>4.2</b> Customer Segmentation with RFM Analysis (in Python Programming Language)</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="finance.html"><a href="finance.html#background-1"><i class="fa fa-check"></i><b>4.2.1</b> Background</a></li>
<li class="chapter" data-level="4.2.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>4.2.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="4.2.3" data-path="finance.html"><a href="finance.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>4.2.3</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="4.2.4" data-path="retail.html"><a href="retail.html#modelling-1"><i class="fa fa-check"></i><b>4.2.4</b> Modelling</a></li>
<li class="chapter" data-level="4.2.5" data-path="retail.html"><a href="retail.html#customers-behavior-in-each-factor-based-on-their-label"><i class="fa fa-check"></i><b>4.2.5</b> Customerâ€™s behavior in each factor based on their label</a></li>
<li class="chapter" data-level="4.2.6" data-path="telecommunication.html"><a href="telecommunication.html#conclusion"><i class="fa fa-check"></i><b>4.2.6</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="insurance.html"><a href="insurance.html"><i class="fa fa-check"></i><b>5</b> Insurance</a>
<ul>
<li class="chapter" data-level="5.1" data-path="insurance.html"><a href="insurance.html#prediction-of-total-claim-amount"><i class="fa fa-check"></i><b>5.1</b> Prediction of Total Claim Amount</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="telecommunication.html"><a href="telecommunication.html#background"><i class="fa fa-check"></i><b>5.1.1</b> Background</a></li>
<li class="chapter" data-level="5.1.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>5.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="5.1.3" data-path="telecommunication.html"><a href="telecommunication.html#conclusion"><i class="fa fa-check"></i><b>5.1.3</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bioinformatics.html"><a href="bioinformatics.html"><i class="fa fa-check"></i><b>6</b> Bioinformatics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="bioinformatics.html"><a href="bioinformatics.html#qtl-mapping-for-disease-resistance"><i class="fa fa-check"></i><b>6.1</b> QTL Mapping for Disease Resistance</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="bioinformatics.html"><a href="bioinformatics.html#backgorund"><i class="fa fa-check"></i><b>6.1.1</b> Backgorund</a></li>
<li class="chapter" data-level="6.1.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>6.1.2</b> Modelling Analysis</a></li>
<li class="chapter" data-level="6.1.3" data-path="telecommunication.html"><a href="telecommunication.html#conclusion"><i class="fa fa-check"></i><b>6.1.3</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="public-health.html"><a href="public-health.html"><i class="fa fa-check"></i><b>7</b> Public Health</a>
<ul>
<li class="chapter" data-level="7.1" data-path="public-health.html"><a href="public-health.html#survival-analysis-of-patients-with-lung-cancer"><i class="fa fa-check"></i><b>7.1</b> Survival Analysis of Patients with Lung Cancer</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="telecommunication.html"><a href="telecommunication.html#import-data"><i class="fa fa-check"></i><b>7.1.1</b> Import Data</a></li>
<li class="chapter" data-level="7.1.2" data-path="finance.html"><a href="finance.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>7.1.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="7.1.3" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>7.1.3</b> Modelling Analysis</a></li>
<li class="chapter" data-level="7.1.4" data-path="telecommunication.html"><a href="telecommunication.html#conclusion"><i class="fa fa-check"></i><b>7.1.4</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="media.html"><a href="media.html"><i class="fa fa-check"></i><b>8</b> Media</a>
<ul>
<li class="chapter" data-level="8.1" data-path="media.html"><a href="media.html#causal-impact-on-leads-generation"><i class="fa fa-check"></i><b>8.1</b> Causal Impact on Leads generation</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="telecommunication.html"><a href="telecommunication.html#background"><i class="fa fa-check"></i><b>8.1.1</b> Background</a></li>
<li class="chapter" data-level="8.1.2" data-path="telecommunication.html"><a href="telecommunication.html#modelling-analysis"><i class="fa fa-check"></i><b>8.1.2</b> Modelling Analysis</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://algorit.ma/" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Machine Learning Application in Industry</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="telecommunication" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Telecommunication</h1>
<div id="customer-churn-prediction" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Customer Churn Prediction</h2>
<div id="background" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Background</h3>
<p>Customer Churn didefinisikan sebagai kecenderungan pelanggan untuk berhenti melakukan interaksi dengan sebuah perusahaan. Perusahaan telekomunikasi memiliki kebutuhan untuk mengetahui customer yang akan berhenti berlangganan atau tidak, karena biaya mempertahankan pelanggan yang sudah ada jauh lebih sedikit dibandingkan memperoleh pelanggan baru. Perusahaan biasanya mendefinisikan 2 tipe customer churn, yaitu <code>voluntary churn</code> dan <code>involuntary churn</code>. <code>Voluntary churn</code> merupakan pelanggan yang sengaja berhenti dan beralih ke perusahaan lain, sedangkan <code>involuntary churn</code> merupakan pelanggan yang berhenti karena perpindahan lokasi, kematian, atau alasan lain yang sulit dikontrol. Analisis <code>voluntary churn</code> tentunya tidak sulit untuk mempelajari karakteristik pelanggan yang dapat dilihat dari data profil pelanggan. Permasalah diatas dapat dijawab dengan membuat model prediksi customer churn. Harapannya dengan adanya model prediksi customer churn, dapat mempermudah pihak perusahaan telekomunikasi untuk memperoleh informasi mengenai pelanggan yang berpeluang besar untuk churn.</p>
</div>
<div id="modelling-analysis" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Modelling Analysis</h3>
<div id="import-data" class="section level4" number="2.1.2.1">
<h4><span class="header-section-number">2.1.2.1</span> Import Data</h4>
<p>Data yang digunakan merupakan data profil pelanggan perusahaan telekomunikasi yang diperoleh dar <a href="https://www.kaggle.com/blastchar/telco-customer-churn">link berikut.</a> Data tersebut berisikan 7043 observasi dengan 21 kolom. Target variabel pada data ini adalah <code>Churn</code>, kita akan memprediksi apakah pelanggan akan berhenti berlangganan produk atau akan tetep berlangganan.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="telecommunication.html#cb1-1" aria-hidden="true"></a>customer &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;assets/01-telco/WA_Fn-UseC_-Telco-Customer-Churn.csv&quot;</span>)</span>
<span id="cb1-2"><a href="telecommunication.html#cb1-2" aria-hidden="true"></a><span class="kw">head</span>(customer)</span></code></pre></div>
<pre><code>#&gt;   customerID gender SeniorCitizen Partner Dependents tenure PhoneService
#&gt; 1 7590-VHVEG Female             0     Yes         No      1           No
#&gt; 2 5575-GNVDE   Male             0      No         No     34          Yes
#&gt; 3 3668-QPYBK   Male             0      No         No      2          Yes
#&gt; 4 7795-CFOCW   Male             0      No         No     45           No
#&gt; 5 9237-HQITU Female             0      No         No      2          Yes
#&gt; 6 9305-CDSKC Female             0      No         No      8          Yes
#&gt;      MultipleLines InternetService OnlineSecurity OnlineBackup DeviceProtection
#&gt; 1 No phone service             DSL             No          Yes               No
#&gt; 2               No             DSL            Yes           No              Yes
#&gt; 3               No             DSL            Yes          Yes               No
#&gt; 4 No phone service             DSL            Yes           No              Yes
#&gt; 5               No     Fiber optic             No           No               No
#&gt; 6              Yes     Fiber optic             No           No              Yes
#&gt;   TechSupport StreamingTV StreamingMovies       Contract PaperlessBilling
#&gt; 1          No          No              No Month-to-month              Yes
#&gt; 2          No          No              No       One year               No
#&gt; 3          No          No              No Month-to-month              Yes
#&gt; 4         Yes          No              No       One year               No
#&gt; 5          No          No              No Month-to-month              Yes
#&gt; 6          No         Yes             Yes Month-to-month              Yes
#&gt;               PaymentMethod MonthlyCharges TotalCharges Churn
#&gt; 1          Electronic check          29.85        29.85    No
#&gt; 2              Mailed check          56.95      1889.50    No
#&gt; 3              Mailed check          53.85       108.15   Yes
#&gt; 4 Bank transfer (automatic)          42.30      1840.75    No
#&gt; 5          Electronic check          70.70       151.65   Yes
#&gt; 6          Electronic check          99.65       820.50   Yes</code></pre>
<p>Berikut ini merupakan deskripsi untuk setiap variabel:</p>
<ul>
<li><code>CustomerID</code>: Customer ID</li>
<li><code>Gender</code>: Gender pelanggan yaitu Female dan Male</li>
<li><code>SeniorCitizen</code>: Apakah pelanggan merupakan senio citizen (0: No, 1: Yes)</li>
<li><code>Partner</code>: Apakah pelanggan memiliki partner atau tidak (Yes, No)</li>
<li><code>Dependents</code>: Apakah pelanggan memiliki tanggungan atau tidak (Yes, No)</li>
<li><code>Tenure</code>: Jumlah bulan dalam menggunakan produk perusahaan</li>
<li><code>MultipleLines</code>: Apakah pelanggan memiliki banyak saluran atau tidak (Yes, No, No phone service)</li>
<li><code>OnlineSecurity</code>: Apakah pelanggan memiliki keamanan online atau tidak</li>
<li><code>OnlineBackup</code>: Apakah pelanggan memiliki cadangan online atau tidak</li>
<li><code>DeviceProtection</code>: Apakah pelanggan memiliki perlindungan perangkat atau tidak</li>
<li><code>TechSupport</code>: Apakah pelanggan memiliki dukungan teknis atau tidak</li>
<li><code>StreamingTV</code>: Apakah pelanggan berlangganan TV streaming atau tidak</li>
<li><code>StreamingMovies</code>: Apakah pelanggan berlangganan movies streaming atau tidak</li>
<li><code>Contract</code>: Ketentuan kontrak berlangganan (Month-to-month, One year, Two year)</li>
<li><code>PaperlessBilling</code>: Apakah pelanggan memiliki tagihan tanpa kertas atau tidak (Yes, No)</li>
<li><code>PaymentMethod</code>: Metode pembayaran (Electronic check, Mailed check, Bank transfer (automatic), Credit card (automatic))</li>
<li><code>MonthlyCharges</code>: Jumlah pembayaran yang dilakukan setiap bulan</li>
<li><code>TotalCharges</code>: Jumlah total yang dibebankan oleh pelanggan</li>
<li><code>Churn</code>: Apakah pelanggan Churn atau tidak (Yes or No)</li>
</ul>
</div>
<div id="exploratory-data" class="section level4" number="2.1.2.2">
<h4><span class="header-section-number">2.1.2.2</span> Exploratory Data</h4>
<p>Sebelum eksplorasi lebih lanjut, perlu diketahui kelengkapan data yang dimiliki:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="telecommunication.html#cb3-1" aria-hidden="true"></a><span class="kw">colSums</span>(<span class="kw">is.na</span>(customer))</span></code></pre></div>
<pre><code>#&gt;       customerID           gender    SeniorCitizen          Partner 
#&gt;                0                0                0                0 
#&gt;       Dependents           tenure     PhoneService    MultipleLines 
#&gt;                0                0                0                0 
#&gt;  InternetService   OnlineSecurity     OnlineBackup DeviceProtection 
#&gt;                0                0                0                0 
#&gt;      TechSupport      StreamingTV  StreamingMovies         Contract 
#&gt;                0                0                0                0 
#&gt; PaperlessBilling    PaymentMethod   MonthlyCharges     TotalCharges 
#&gt;                0                0                0               11 
#&gt;            Churn 
#&gt;                0</code></pre>
<p>Dari 7043 observasi ternyata terdapat <code>missing values</code> sebanyak 11 observasi pada kolom <code>TotalCharges</code>. Karena jumlah <code>missing values</code> cukup sedikit kita dapat membuat observasi tersebut. Selain itu, perlu kita buang variabel yang tidak dibutuhkan pada pemodelan yaitu <code>customerID</code> dan juga sesuaikan tipe data yang seharusnya.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="telecommunication.html#cb5-1" aria-hidden="true"></a>customer &lt;-<span class="st"> </span>customer <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-2"><a href="telecommunication.html#cb5-2" aria-hidden="true"></a><span class="st">            </span><span class="kw">select</span>(<span class="op">-</span>customerID) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-3"><a href="telecommunication.html#cb5-3" aria-hidden="true"></a><span class="st">            </span><span class="kw">na.omit</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-4"><a href="telecommunication.html#cb5-4" aria-hidden="true"></a><span class="st">            </span><span class="kw">mutate</span>(<span class="dt">SeniorCitizen =</span> <span class="kw">as.factor</span>(SeniorCitizen)) </span></code></pre></div>
<p>Untuk mengetahui proporsi kelas pada setiap variable kategori, kita dapat menggunakan function <code>inspect_cat</code> dari package <code>inspectdf</code> seperti berikut:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="telecommunication.html#cb6-1" aria-hidden="true"></a>customer <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">inspect_cat</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">show_plot</span>()</span></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Dari hasil plot diatas dapat diketahui proporsi kelas untuk target variabel cenderung lebih banyak dikategori <code>No</code> namun masih seimbang. Sedangkan untuk variabel lainnya untuk proporsi setiap level nya mayoritas seimbang.</p>
<p>Berikutnya kita dapat eksplorasi persebaran untuk variabel data numerik dengan function <code>inspect_num</code> dari package <code>inspectdf</code> seperti berikut:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="telecommunication.html#cb7-1" aria-hidden="true"></a>customer <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">inspect_num</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">show_plot</span>()</span></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Dari ketiga variabel numerik yang dimiliki, persebaran data cukup beragam untuk setiap nilai.</p>
</div>
<div id="modelling" class="section level4" number="2.1.2.3">
<h4><span class="header-section-number">2.1.2.3</span> Modelling</h4>
<p>Sebelum masuk ke tahap modelling, kita perlu membagi data menjadi <code>data_train</code> dan <code>data_test</code> dengan proporsi 80:20.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="telecommunication.html#cb8-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">100</span>)</span>
<span id="cb8-2"><a href="telecommunication.html#cb8-2" aria-hidden="true"></a>idx &lt;-<span class="st"> </span><span class="kw">initial_split</span>(<span class="dt">data =</span> customer,<span class="dt">prop =</span> <span class="fl">0.8</span>,<span class="dt">strata =</span> Churn)</span>
<span id="cb8-3"><a href="telecommunication.html#cb8-3" aria-hidden="true"></a>data_train &lt;-<span class="st"> </span><span class="kw">training</span>(idx)</span>
<span id="cb8-4"><a href="telecommunication.html#cb8-4" aria-hidden="true"></a>data_test &lt;-<span class="st"> </span><span class="kw">testing</span>(idx)</span></code></pre></div>
<p>Berikutnya bentuk model random forest menggunakan package <code>caret</code>, tentukan banyaknya cross validation dan repetition pada model dan juga target variabel dan prediktor yang digunakan.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="telecommunication.html#cb9-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">100</span>)</span>
<span id="cb9-2"><a href="telecommunication.html#cb9-2" aria-hidden="true"></a>ctrl &lt;-<span class="st"> </span><span class="kw">trainControl</span>(<span class="dt">method=</span><span class="st">&quot;repeatedcv&quot;</span>, <span class="dt">number=</span><span class="dv">5</span>, <span class="dt">repeats=</span><span class="dv">3</span>)</span>
<span id="cb9-3"><a href="telecommunication.html#cb9-3" aria-hidden="true"></a><span class="co"># model_forest &lt;- train(Churn ~ ., data=data_train, method=&quot;rf&quot;, trControl = ctrl)</span></span></code></pre></div>
<p>import model yang sudah dijalankan pada chunk sebelumnya menggunakan <code>readRDS</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="telecommunication.html#cb10-1" aria-hidden="true"></a><span class="co">#saveRDS(model_forest,&quot;assets/01-telco/model_forest.rds&quot;)</span></span>
<span id="cb10-2"><a href="telecommunication.html#cb10-2" aria-hidden="true"></a>model_forest &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;assets/01-telco/model_forest.rds&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="telecommunication.html#cb11-1" aria-hidden="true"></a>model_forest</span></code></pre></div>
<pre><code>#&gt; Random Forest 
#&gt; 
#&gt; 5627 samples
#&gt;   19 predictor
#&gt;    2 classes: &#39;No&#39;, &#39;Yes&#39; 
#&gt; 
#&gt; No pre-processing
#&gt; Resampling: Cross-Validated (5 fold, repeated 3 times) 
#&gt; Summary of sample sizes: 4501, 4502, 4501, 4502, 4502, 4501, ... 
#&gt; Resampling results across tuning parameters:
#&gt; 
#&gt;   mtry  Accuracy   Kappa    
#&gt;    2    0.7837817  0.3252122
#&gt;   16    0.7750746  0.3779712
#&gt;   30    0.7731203  0.3727503
#&gt; 
#&gt; Accuracy was used to select the optimal model using the largest value.
#&gt; The final value used for the model was mtry = 2.</code></pre>
<p>Dari hasil yang diperoleh pada <code>model_forest</code>, didapatkan accuraci sebesar 0.78 dengan mtry sebanyak 2. Selanjutnya, akan dilakukan tuning model dengan melakukan upsample data. Artinya, kita akan membuat proporsi dari target variabel sama besar.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="telecommunication.html#cb13-1" aria-hidden="true"></a>up_train &lt;-<span class="st"> </span><span class="kw">upSample</span>(<span class="dt">x =</span> data_train[,<span class="op">-</span><span class="dv">20</span>],</span>
<span id="cb13-2"><a href="telecommunication.html#cb13-2" aria-hidden="true"></a>                     <span class="dt">y =</span> data_train<span class="op">$</span>Churn,</span>
<span id="cb13-3"><a href="telecommunication.html#cb13-3" aria-hidden="true"></a>                     <span class="dt">yname =</span> <span class="st">&quot;Churn&quot;</span>)</span></code></pre></div>
<p>Dilakukan pembuat model random forest dengan data upsample:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="telecommunication.html#cb14-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">100</span>)</span>
<span id="cb14-2"><a href="telecommunication.html#cb14-2" aria-hidden="true"></a><span class="co"># ctrl &lt;- trainControl(method=&quot;repeatedcv&quot;, number=5, repeats=3)</span></span>
<span id="cb14-3"><a href="telecommunication.html#cb14-3" aria-hidden="true"></a><span class="co"># forest_upc &lt;- train(Churn ~ ., data=up_train, method=&quot;rf&quot;, trControl = ctrl)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="telecommunication.html#cb15-1" aria-hidden="true"></a><span class="co">#saveRDS(forest_upc,&quot;assets/01-telco/model_caret.rds&quot;)</span></span>
<span id="cb15-2"><a href="telecommunication.html#cb15-2" aria-hidden="true"></a>forest_upc &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;assets/01-telco/model_caret.rds&quot;</span>)</span></code></pre></div>
<p>Dari hasil model kedua diperoleh hasil sebagai berikut:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="telecommunication.html#cb16-1" aria-hidden="true"></a>forest_upc</span></code></pre></div>
<pre><code>#&gt; Random Forest 
#&gt; 
#&gt; 8262 samples
#&gt;   19 predictor
#&gt;    2 classes: &#39;No&#39;, &#39;Yes&#39; 
#&gt; 
#&gt; No pre-processing
#&gt; Resampling: Cross-Validated (5 fold, repeated 3 times) 
#&gt; Summary of sample sizes: 6609, 6610, 6609, 6610, 6610, 6610, ... 
#&gt; Resampling results across tuning parameters:
#&gt; 
#&gt;   mtry  Accuracy   Kappa    
#&gt;    2    0.7760017  0.5520022
#&gt;   16    0.8911472  0.7822945
#&gt;   30    0.8875167  0.7750336
#&gt; 
#&gt; Accuracy was used to select the optimal model using the largest value.
#&gt; The final value used for the model was mtry = 16.</code></pre>
<p>Setelah dilakukan upsample data, terlihat nilai accuracy yang diperoleh lebih besar dibandingkan model sebelumnya sebesar 0.89 dengan mtry sebanyak 16. Selanjutnya, akan dilakukan prediksi terhadap <code>data_test</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="telecommunication.html#cb18-1" aria-hidden="true"></a>pred &lt;-<span class="st"> </span><span class="kw">predict</span>(forest_upc,<span class="dt">newdata =</span> data_test,<span class="dt">type =</span> <span class="st">&quot;prob&quot;</span>)</span>
<span id="cb18-2"><a href="telecommunication.html#cb18-2" aria-hidden="true"></a>pred<span class="op">$</span>result &lt;-<span class="st"> </span><span class="kw">as.factor</span>(<span class="kw">ifelse</span>(pred<span class="op">$</span>Yes <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.45</span>, <span class="st">&quot;Yes&quot;</span>,<span class="st">&quot;No&quot;</span>))</span>
<span id="cb18-3"><a href="telecommunication.html#cb18-3" aria-hidden="true"></a><span class="kw">confusionMatrix</span>(pred<span class="op">$</span>result, <span class="kw">as.factor</span>(data_test<span class="op">$</span>Churn),<span class="dt">positive =</span> <span class="st">&quot;Yes&quot;</span>)</span></code></pre></div>
<pre><code>#&gt; Confusion Matrix and Statistics
#&gt; 
#&gt;           Reference
#&gt; Prediction  No Yes
#&gt;        No  849 109
#&gt;        Yes 183 264
#&gt;                                         
#&gt;                Accuracy : 0.7922        
#&gt;                  95% CI : (0.77, 0.8131)
#&gt;     No Information Rate : 0.7345        
#&gt;     P-Value [Acc &gt; NIR] : 0.00000031    
#&gt;                                         
#&gt;                   Kappa : 0.4989        
#&gt;                                         
#&gt;  Mcnemar&#39;s Test P-Value : 0.00001937    
#&gt;                                         
#&gt;             Sensitivity : 0.7078        
#&gt;             Specificity : 0.8227        
#&gt;          Pos Pred Value : 0.5906        
#&gt;          Neg Pred Value : 0.8862        
#&gt;              Prevalence : 0.2655        
#&gt;          Detection Rate : 0.1879        
#&gt;    Detection Prevalence : 0.3181        
#&gt;       Balanced Accuracy : 0.7652        
#&gt;                                         
#&gt;        &#39;Positive&#39; Class : Yes           
#&gt; </code></pre>
<p>Pada kasus ini kita ingin memperoleh nila sensitivity/recall yang lebih besar, dengan menggunakan threshold sebesar 0.4 diperoleh nilai recall sebesar 0.70 dengan accuracy sebesar 0.79 dan precision sebesar 0.59. Dari model yang telah terbentuk kita dapat memperoleh nilai AUC pada model:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="telecommunication.html#cb20-1" aria-hidden="true"></a><span class="kw">library</span>(ROCR)</span>
<span id="cb20-2"><a href="telecommunication.html#cb20-2" aria-hidden="true"></a>pred_prob &lt;-<span class="st"> </span><span class="kw">predict</span>(<span class="dt">object =</span> forest_upc,<span class="dt">newdata =</span> data_test,<span class="dt">type =</span> <span class="st">&quot;prob&quot;</span>)</span>
<span id="cb20-3"><a href="telecommunication.html#cb20-3" aria-hidden="true"></a>pred &lt;-<span class="st">  </span><span class="kw">prediction</span>(pred_prob[,<span class="dv">2</span>],<span class="dt">labels =</span> data_test<span class="op">$</span>Churn)</span>
<span id="cb20-4"><a href="telecommunication.html#cb20-4" aria-hidden="true"></a>perf &lt;-<span class="st"> </span><span class="kw">performance</span>(<span class="dt">prediction.obj =</span> pred,<span class="dt">measure =</span> <span class="st">&quot;tpr&quot;</span>,<span class="dt">x.measure =</span> <span class="st">&quot;fpr&quot;</span>)</span>
<span id="cb20-5"><a href="telecommunication.html#cb20-5" aria-hidden="true"></a><span class="kw">plot</span>(perf)</span></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="telecommunication.html#cb21-1" aria-hidden="true"></a>auc &lt;-<span class="st"> </span><span class="kw">performance</span>(pred,<span class="dt">measure =</span> <span class="st">&quot;auc&quot;</span>)</span>
<span id="cb21-2"><a href="telecommunication.html#cb21-2" aria-hidden="true"></a>auc<span class="op">@</span>y.values[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>#&gt; [1] 0.8513259</code></pre>
</div>
</div>
<div id="conclusion" class="section level3" number="2.1.3">
<h3><span class="header-section-number">2.1.3</span> Conclusion</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="telecommunication.html#cb23-1" aria-hidden="true"></a><span class="kw">library</span>(lime)</span>
<span id="cb23-2"><a href="telecommunication.html#cb23-2" aria-hidden="true"></a>test_x &lt;-<span class="st"> </span>data_test <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-3"><a href="telecommunication.html#cb23-3" aria-hidden="true"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>Churn)</span>
<span id="cb23-4"><a href="telecommunication.html#cb23-4" aria-hidden="true"></a></span>
<span id="cb23-5"><a href="telecommunication.html#cb23-5" aria-hidden="true"></a>explainer &lt;-<span class="st"> </span><span class="kw">lime</span>(test_x, forest_upc)</span>
<span id="cb23-6"><a href="telecommunication.html#cb23-6" aria-hidden="true"></a>explanation &lt;-<span class="st"> </span>lime<span class="op">::</span><span class="kw">explain</span>(test_x[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,],</span>
<span id="cb23-7"><a href="telecommunication.html#cb23-7" aria-hidden="true"></a>                             explainer, </span>
<span id="cb23-8"><a href="telecommunication.html#cb23-8" aria-hidden="true"></a>                             <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>),</span>
<span id="cb23-9"><a href="telecommunication.html#cb23-9" aria-hidden="true"></a>                             <span class="dt">n_features =</span> <span class="dv">8</span>)</span>
<span id="cb23-10"><a href="telecommunication.html#cb23-10" aria-hidden="true"></a></span>
<span id="cb23-11"><a href="telecommunication.html#cb23-11" aria-hidden="true"></a><span class="kw">plot_features</span>(explanation)</span></code></pre></div>
<p><img src="bookmlindustry_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Setelah adanya model prediksi customer churn, pihak perusahaan telekomunikasi dapat dengan mudah mengetahui pelanggan yang memiliki kecendurungan akan churn. Kedua plot diatas memperlihatkan prediksi dua customer, kedua customer memiliki peluang besar untuk churn dan kita dapat mengetahui variabel mana yang <code>supports</code> dan <code>contradicts</code> terhadap hasil prediksi.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="finance.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"all": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
